<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Product List</title>
    <th:block th:replace="~{layout :: top-bootstrap}"></th:block>
</head>
<body>
<h1 class="text-center"><a href="/product/list">Product List</a></h1>
<h3 class="text-center" style="color: lawngreen" th:text="${message}"></h3>
<form method="get" action="/product/list">
    <div class="row container justify-content-center">
        <div class="form-outline my-2 col-2 me-2">
            <input type="date" id="searchBefore" class="form-control" name="beforeBuyDate"/>
            <label class="form-label" for="searchBefore">Date before</label>
        </div>
        <div class="form-outline my-2 col-2 me-2">
            <input type="date" id="searchAfter" class="form-control" name="afterBuyDate"/>
            <label class="form-label" for="searchAfter">Date After</label>
        </div>
        <div class="col-1 my-2">
            <input type="submit" id="searchSubmit" value="Search" class="btn btn-dark">
        </div>
    </div>
</form>
<form action="/product/show-top">
    <div class="row container justify-content-center">
        <div class="form-outline my-2 col-2 mx-2">
            <select id="limit" class="form-select" name="limit">
                <option value="">--top--</option>
                <option th:value="10">top 10</option>
                <option th:value="5">top 5</option>
                <option th:value="1">top 1</option>
            </select>
            <span>product order has total money highest !</span>
        </div>
        <div class="col-1 my-2">
            <input type="submit" id="showSubmit" value="show" class="btn btn-secondary">
        </div>
    </div>
</form>
<nav aria-label="Page navigation example">
    <ul class="pagination mx-auto justify-content-center text-center">
        <li class="page-item">
            <a class="page-link" th:if="${productOrderList.hasPrevious()}"
               th:href="@{/product/list(page=${productOrderList.number - 1})}">Previous</a>
        </li>
        <li class="page-link">
            <span th:text="${productOrderList.number + 1}"></span>
            /
            <span th:text="${productOrderList.totalPages}"></span>
        </li>
        <li class="page-item">
            <a class="page-link" th:if="${productOrderList.hasNext()}"
               th:href="@{/product/list(page=${productOrderList.number + 1})}">Next</a>
        </li>
    </ul>
    <!--    keyword=${keywordVal1}-->
</nav>
<div class="container">
    <table class="table w-75 mx-auto shadow-2-strong">
        <thead class="table-dark p-3">
        <tr>
            <th scope="col">#</th>
            <th scope="col">Product Order Code</th>
            <th scope="col">Product Name</th>
            <th scope="col">Price</th>
            <th scope="col">Type</th>
            <th scope="col">Buy Date</th>
            <th scope="col">Quantity</th>
            <th scope="col">Total Money</th>
            <th scope="col">Action</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="productOrder,loop : ${productOrderList}">
            <th scope="row" th:text="${loop.count}"></th>
            <td th:text="${productOrder.productOrderId}"></td>
            <td th:text="${productOrder.product.productName}"></td>
            <td th:text="${productOrder.product.productPrice}"></td>
            <td th:text="${productOrder.product.productType.productTypeName}"></td>
            <td th:text="${productOrder.productOrderBuyDate}"></td>
            <td th:text="${productOrder.productOrderQuantity}"></td>
            <td th:text="
            ${productOrder.productOrderQuantity} * ${productOrder.product.productPrice}
"></td>
            <td>
                <a class="btn btn-warning" th:href="@{/product/edit(id=${productOrder.product.productId})}">Edit</a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<th:block th:replace="~{layout :: bot-bootstrap}"></th:block>
</body>
</html>